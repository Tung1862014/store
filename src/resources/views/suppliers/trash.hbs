<div class='mt-4'>
    <div class='row' style='margin-left: -180px;min-width: 1470px;'>
        <div class='col-3'>
            <ul class='nav nav-pills flex-column'>
                <li class='nav-item'>
                    <a class='nav-link' href='/'><svg
                            xmlns='http://www.w3.org/2000/svg'
                            width='16'
                            height='16'
                            fill='currentColor'
                            class='bi bi-house-door-fill'
                            viewBox='0 0 16 16'
                        >
                            <path
                                d='M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z'
                            ></path>
                        </svg>
                        Trang chủ</a>
                </li>
                <li class='nav-item'>
                    <a class='nav-link ' href='/staff'><svg
                            xmlns='http://www.w3.org/2000/svg'
                            width='16'
                            height='16'
                            fill='currentColor'
                            class='bi bi-person-circle'
                            viewBox='0 0 16 16'
                        >
                            <path d='M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z'></path>
                            <path
                                fill-rule='evenodd'
                                d='M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z'
                            ></path>
                        </svg>
                        Nhân viên</a>
                </li>
                <li class='nav-item'>
                    <a class='nav-link' href='/customer'><svg
                            xmlns='http://www.w3.org/2000/svg'
                            width='16'
                            height='16'
                            fill='currentColor'
                            class='bi bi-people-fill'
                            viewBox='0 0 16 16'
                        >
                            <path
                                d='M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z'
                            ></path>
                            <path
                                fill-rule='evenodd'
                                d='M5.216 14A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216z'
                            ></path>
                            <path
                                d='M4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z'
                            ></path>
                        </svg>
                        Khách hàng</a>
                </li>
                <li class='nav-item'>
                    <a class='nav-link' href='/bill'><svg
                            xmlns='http://www.w3.org/2000/svg'
                            width='16'
                            height='16'
                            fill='currentColor'
                            class='bi bi-receipt-cutoff'
                            viewBox='0 0 16 16'
                        >
                            <path
                                d='M3 4.5a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 1 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 2a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zM11.5 4a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zm0 2a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zm0 2a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zm0 2a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1zm0 2a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1h-1z'
                            ></path>
                            <path
                                d='M2.354.646a.5.5 0 0 0-.801.13l-.5 1A.5.5 0 0 0 1 2v13H.5a.5.5 0 0 0 0 1h15a.5.5 0 0 0 0-1H15V2a.5.5 0 0 0-.053-.224l-.5-1a.5.5 0 0 0-.8-.13L13 1.293l-.646-.647a.5.5 0 0 0-.708 0L11 1.293l-.646-.647a.5.5 0 0 0-.708 0L9 1.293 8.354.646a.5.5 0 0 0-.708 0L7 1.293 6.354.646a.5.5 0 0 0-.708 0L5 1.293 4.354.646a.5.5 0 0 0-.708 0L3 1.293 2.354.646zm-.217 1.198.51.51a.5.5 0 0 0 .707 0L4 1.707l.646.647a.5.5 0 0 0 .708 0L6 1.707l.646.647a.5.5 0 0 0 .708 0L8 1.707l.646.647a.5.5 0 0 0 .708 0L10 1.707l.646.647a.5.5 0 0 0 .708 0L12 1.707l.646.647a.5.5 0 0 0 .708 0l.509-.51.137.274V15H2V2.118l.137-.274z'
                            ></path>
                        </svg>
                        Đơn hàng</a>
                </li>
                <li class='nav-item'>
                    <a class='nav-link ' href='/product'><svg
                            xmlns='http://www.w3.org/2000/svg'
                            width='16'
                            height='16'
                            fill='currentColor'
                            class='bi bi-pc-display'
                            viewBox='0 0 16 16'
                        >
                            <path
                                d='M8 1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V1Zm1 13.5a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0Zm2 0a.5.5 0 1 0 1 0 .5.5 0 0 0-1 0ZM9.5 1a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5ZM9 3.5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 0-1h-5a.5.5 0 0 0-.5.5ZM1.5 2A1.5 1.5 0 0 0 0 3.5v7A1.5 1.5 0 0 0 1.5 12H6v2h-.5a.5.5 0 0 0 0 1H7v-4H1.5a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .5-.5H7V2H1.5Z'
                            ></path>
                        </svg>
                        Quản lý sản phẩm</a>
                </li>
                <li class='nav-item'>
                    <a class='nav-link active' href='/supplier'><svg
                            xmlns='http://www.w3.org/2000/svg'
                            width='16'
                            height='16'
                            fill='currentColor'
                            class='bi bi-person-badge-fill'
                            viewBox='0 0 16 16'
                        >
                            <path
                                d='M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2zm4.5 0a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1h-3zM8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm5 2.755C12.146 12.825 10.623 12 8 12s-4.146.826-5 1.755V14a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-.245z'
                            ></path>
                        </svg>
                        Nhà cung cấp</a>
                </li>
                <li class='nav-item'>
                    <a class='nav-link' href='#'><svg
                            xmlns='http://www.w3.org/2000/svg'
                            width='16'
                            height='16'
                            fill='currentColor'
                            class='bi bi-box-arrow-left'
                            viewBox='0 0 16 16'
                        >
                            <path
                                fill-rule='evenodd'
                                d='M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z'
                            ></path>
                            <path
                                fill-rule='evenodd'
                                d='M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z'
                            ></path>
                        </svg>
                        Đăng xuất</a>
                </li>
            </ul>
        </div>

        <div class='col-9'>
            <div>
                <a href="/supplier">Danh sách nhà cung cấp</a>
                <h3>Nhà cung cấp đã xóa</h3>
            </div>
            <table class='table table-striped'>
                <thead>
                    <tr>
                        <th scope='col'>STT</th>
                        <th scope='col'>Tên nhà cung cấp</th>
                        <th scope='col'>Số lượng</th>
                        <th scope='col'>Khôi phục</th>
                        <th scope='col'>Xóa vĩnh viễn</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each suppliers}}
                        <tr>
                            <th scope='row'>{{sum @index 1}}</th>
                            <td>{{this.name}}</td>
                            <td>{{this.number}}</td>

                            <td>
                                <a href='' class="btn btn-link btn-restore" data-id="{{this._id}}">
                                    <svg
                                        xmlns='http://www.w3.org/2000/svg'
                                        width='16'
                                        height='16'
                                        fill='currentColor'
                                        class='bi bi-tools'
                                        viewBox='0 0 16 16'
                                    >
                                        <path
                                            d='M1 0 0 1l2.2 3.081a1 1 0 0 0 .815.419h.07a1 1 0 0 1 .708.293l2.675 2.675-2.617 2.654A3.003 3.003 0 0 0 0 13a3 3 0 1 0 5.878-.851l2.654-2.617.968.968-.305.914a1 1 0 0 0 .242 1.023l3.27 3.27a.997.997 0 0 0 1.414 0l1.586-1.586a.997.997 0 0 0 0-1.414l-3.27-3.27a1 1 0 0 0-1.023-.242L10.5 9.5l-.96-.96 2.68-2.643A3.005 3.005 0 0 0 16 3c0-.269-.035-.53-.102-.777l-2.14 2.141L12 4l-.364-1.757L13.777.102a3 3 0 0 0-3.675 3.68L7.462 6.46 4.793 3.793a1 1 0 0 1-.293-.707v-.071a1 1 0 0 0-.419-.814L1 0Zm9.646 10.646a.5.5 0 0 1 .708 0l2.914 2.915a.5.5 0 0 1-.707.707l-2.915-2.914a.5.5 0 0 1 0-.708ZM3 11l.471.242.529.026.287.445.445.287.026.529L5 13l-.242.471-.026.529-.445.287-.287.445-.529.026L3 15l-.471-.242L2 14.732l-.287-.445L1.268 14l-.026-.529L1 13l.242-.471.026-.529.445-.287.287-.445.529-.026L3 11Z'
                                        ></path>
                                    </svg>
                                </a>
                            </td>

                            <td><a href='#'><svg
                                        xmlns='http://www.w3.org/2000/svg'
                                        width='16'
                                        height='16'
                                        fill='currentColor'
                                        data-toggle="modal" 
                                        data-id="{{this._id}}"
                                        data-target="#comfirmDelete"
                                        class='bi bi-x'
                                        viewBox='0 0 16 16'
                                    >
                                        <path
                                            d='M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z'
                                        ></path>
                                    </svg></a></td>
                        </tr>
                        {{else}}
                        <tr>
                            <td colspan="5" class="text-center">
                               Thùng rác trống.<a href="/supplier">Danh sách nhà cung cấp</a>
                            </td>
                        </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
</div>
{{!-- Comform delete  --}}
<div class="modal" id="comfirmDelete" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Xóa nhà cung cấp</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Hành động này không thể khôi phục.Bạn có muốn xóa nhà cung cấp này?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Hủy</button>
        <button id="btn-delete-modal" type="button"  class="btn btn-danger">Xóa vĩnh viễn</button>
      </div>
    </div>
  </div>
</div>

{{!-- Delete hidden form --}}
<form name="delete-form" method='POST' ></form>
<form name="restore-form" method='POST' ></form>

<script>
    document.addEventListener("DOMContentLoaded",function(){
        var supplierId;
        var deleteForm = document.forms['delete-form'];
         var restoreForm = document.forms['restore-form'];
        var btnDeleteSupplier = document.getElementById('btn-delete-modal');
        var restoreBtn = $('.btn-restore');

        $('#comfirmDelete').on('show.bs.modal', function (event) {
        var button = $(event.relatedTarget) ;
        supplierId = button.data('id') ;
        });

        btnDeleteSupplier.onclick = function(){
            deleteForm.action = '/supplier/delete/save/'+supplierId+'/force?_method=DELETE';
            deleteForm.submit();
        }

        //Restore btn clicked
        restoreBtn.click(function(e){
            e.preventDefault();
            var supplierId = $(this).data('id');
            restoreForm.action = '/supplier/'+supplierId+'/restore?_method=PATCH';
            restoreForm.submit();


        })
   })
</script>